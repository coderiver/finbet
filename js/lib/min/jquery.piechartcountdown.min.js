if(!CSSAnimation||!CSSAnimation.version||CSSAnimation.version<.2){var CSSAnimation={version:"0.2"};CSSAnimation.find=function(t){for(var n=document.styleSheets,e=n.length-1;e>=0;e--)try{for(var i=n[e],a=i.cssRules?i.cssRules:i.rules?i.rules:[],r=a.length-1;r>=0;r--)if((a[r].type===window.CSSRule.WEBKIT_KEYFRAMES_RULE||a[r].type===window.CSSRule.MOZ_KEYFRAMES_RULE)&&a[r].name==t)return a[r]}catch(o){}return null},CSSAnimation.trigger=function(t,n,e,i){var a,r={},o={},s=null,u=0,d=0,l={base:5,easing:"linear",iterationCount:1},m=["Webkit","Moz"];for(a in i)l[a]=i[a];if(!t.isPlaying){if(s=CSSAnimation.find(n),!s)return!1;r={};for(var c=0;c<s.cssRules.length;c++){i=s.cssRules[c],a=i.keyText;var p=0;p="from"==a?0:"to"==a?1:a.replace("%","")/100,r[100*p+"%"]=i}u=(new Date).getTime();var f=p=roundedKey=keyframe=null,h=function(e,i){var a=document.createEvent("Event");a.initEvent("cssAnimationKeyframe",!0,!0),a.animationName=n,a.keyText=e,a.elapsedTime=i,t.dispatchEvent(a)};c=0;var v=!1,S=function(n){for(v=!1,c=0;c<m.length&&!v;c++)void 0!==t.style[m[c]+"AnimationName"]&&(t.style[m[c]+"AnimationDuration"]=n.duration,t.style[m[c]+"AnimationTimingFunction"]=n.timingFunction,t.style[m[c]+"AnimationIterationCount"]=n.iterationCount,t.style[m[c]+"AnimationName"]=n.name,v=!0)};S({name:n,duration:e+"ms",timingFunction:l.easing,iterationCount:l.iterationCount}),t.isPlaying=!0,function g(){f=(new Date).getTime(),percent=Math.floor((f-(u+d*e))/e*100),key=percent-percent%l.base+"%",(keyframe=r[key])&&!o[key]&&(o[key]=!0,h(key,(f-u)/1e3)),100>percent?requestAnimFrame(g,t):(o["100%"]||h("100%",(f-u)/1e3),d++,d<l.iterationCount||"infinite"==l.iterationCount?(o={},requestAnimFrame(g,t)):(S({name:null,duration:null,timingFunction:null,iterationCount:0}),t.isPlaying=!1))}()}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()}!function(t){t.fn.cssanimation||(t.fn.cssanimation=function(t,n,e){return this.each(function(i,a){CSSAnimation.trigger(a,t,n,e)})}),t.fn.pieChartCountDown=function(){var i={size:60,time:10,background:"#FFF",color:"#000",callback:null,unSupportedCallback:null,infinite:!1,border:0},a=this;if(1==arguments.length&&"string"==typeof arguments[0]){if(!n.isInitiated)throw new Error("Calling an action for jQuery plugin pieChartCountDown, but now count down is initiated");if(n.supportsCSSAnimation){if("destroy"!=arguments[0])throw new Error("Unkown method "+arguments[0]);n.removeSpinner(a)}else e.executeCommand(a,arguments[0]);return this}for(var r=0;r<arguments.length;r++){var o=arguments[r],s=typeof o;"number"==s||t.isNumeric(o)?i.time=parseInt(o):"function"==s?i.callback=o:null!==o&&o!==!1&&t.extend(i,o)}if(n.isInitiated||n.init(this.get(0)),n.supportsCSSAnimation){n.removeSpinner(a,i.background);var u=++n.numSpinners,d=t("<div></div>");d.attr("id","spinner-"+u),d.css({position:"relative","border-radius":"100%",width:i.size+"px",height:i.size+"px",background:i.background,border:i.border+"px solid "+i.background});var l=t("<div></div>");l.css({width:"50%",height:"100%",overflow:"hidden",position:"absolute",left:"0"}).appendTo(d);var m=t("<div></div>");m.css({"border-radius":"999px",position:"absolute",width:"100%",height:"100%",left:"100%","border-top-left-radius":"0","border-bottom-left-radius":"0",background:i.color}).css(n.pfx+"animation-iteration-count",i.infinite?"infinite":"1").css(n.pfx+"animation-timing-function","linear").css(n.pfx+"transform-origin","0 50%").addClass("left-fill").appendTo(l);var c=t("<div></div>");c.css({width:"50%",height:"100%",overflow:"hidden",position:"absolute",left:"50%"}).appendTo(d);var p=t("<div></div>");p.css({"border-radius":"999px",position:"absolute",width:"100%",height:"100%",left:"-100%","border-top-right-radius":"0","border-bottom-right-radius":"0",background:i.color}).css(n.pfx+"animation-iteration-count",i.infinite?"infinite":"1").css(n.pfx+"animation-timing-function","linear").css(n.pfx+"transform-origin","100% 50%").addClass("right-fill").appendTo(c),this.html("").append(d).attr("data-spinner-id",u).addClass("pie-chart-spinner").show();var f={iterationCount:i.infinite?"infinite":1},h=1e3*i.time*2;p.cssanimation("ui-spinner-rotate-right",h,f),m.cssanimation("ui-spinner-rotate-left",h,f).bind("cssAnimationKeyframe",function(e){"50%"==e.originalEvent.keyText&&(i.infinite||(n.removeSpinner(t(this).parent().parent().parent()),"function"==typeof i.callback&&i.callback(a)))})}else"function"==typeof i.unSupportedCallback?i.unSupportedCallback(a):("object"==typeof i.unSupportedCallback&&null!==i.unSupportedCallback&&(e=i.unSupportedCallback),e.start(a,i));return this};var n={numSpinners:0,supportsCSSAnimation:!1,type:null,pfx:null,CSSTransformRule:null,CSSAnimationRule:null,animationEndEvent:null,isInitiated:!1,addAnimationKeyFrames:function(){},init:function(t){this.isInitiated=!0;for(var n="Webkit Moz O ms Khtml".split(" "),e=0;e<n.length;e++)if(void 0!==t.style[n[e]+"AnimationName"]){switch(this.supportsCSSAnimation=!0,this.type=n[e].toLowerCase(),this.pfx="-"+this.type+"-",this.CSSTransformRule=this.pfx+"transform",this.CSSAnimationRule=this.pfx+"animation",this.type){case"o":this.animationEndEvent="oAnimationEnd";break;case"webkit":this.animationEndEvent="webkitAnimationEnd";break;default:this.animationEndEvent="animationend"}this.addAnimationKeyFrames=document.styleSheets&&document.styleSheets.length?function(t){document.styleSheets[0].insertRule(t,0)}:function(t){var n=document.createElement("style");n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n)};break}if(this.supportsCSSAnimation){var i="-moz-"==this.pfx||"-webkit-"==this.pfx?this.pfx:"",a="@"+i+"keyframes ui-spinner-rotate-right {0% {"+this.CSSTransformRule+": rotate(0deg);}25% {"+this.CSSTransformRule+": rotate(180deg);}50% {"+this.CSSTransformRule+": rotate(180deg);}75% {"+this.CSSTransformRule+": rotate(360deg);}100% {"+this.CSSTransformRule+": rotate(360deg);}}",r="@"+i+"keyframes ui-spinner-rotate-left {0% {"+this.CSSTransformRule+": rotate(0deg);}25% {"+this.CSSTransformRule+": rotate(0deg);}50% {"+this.CSSTransformRule+": rotate(180deg);}75% {"+this.CSSTransformRule+": rotate(180deg);}100% {"+this.CSSTransformRule+": rotate(360deg);}}";this.addAnimationKeyFrames(a),this.addAnimationKeyFrames(r)}},removeSpinner:function(t){var n=t.attr("data-spinner-id");n&&(t.children().remove(),t.removeAttr("data-spinner-id"),t.removeAttr("data-spinner-paused"))}},e={id:0,intervals:{},options:{},start:function(t,n){this.remove(t);var e="spinner"+ ++this.id;t.text(n.time).attr("data-interval-id",e).css({fontSize:.8*n.size+"px",background:n.background,color:n.color,width:n.size,height:n.size,lineHeight:"normal",textAlign:"center"}),this.options[e]=n;var i=this;this.intervals[e]=setInterval(function(){var n=t.attr("data-spinner-paused");if(void 0===n){var e=parseInt(t.text())-1;e>0?t.text(e):i.remove(t)}},1e3)},executeCommand:function(t,n){switch(n){case"pause":this.pause(t);break;case"resume":this.resume(t);break;case"stop":this.remove(t);break;case"toggle":void 0!==t.attr("data-spinner-paused")?this.resume(t):this.pause(t);break;default:throw new Error("Unknown method "+arguments[0])}},remove:function(t){var n=t.attr("data-interval-id");if(void 0!==n){var i=this.options[n];clearInterval(e.intervals[n]),t.text(""),i&&"function"==typeof i.callback&&i.callback(t),delete e.intervals[n],delete e.options[n]}},pause:function(t){var n=t.attr("data-interval-id");void 0!==n&&t.attr("data-spinner-paused",1)},resume:function(t){t.removeAttr("data-spinner-paused")}}}(jQuery);